!function(a){function g(b,g,h){var i=b.success,j=a.extend({},b.data||{},{"start-min":c(g,"u"),"start-max":c(h,"u"),singleevents:!0,"max-results":9999}),k=b.currentTimezone;return k&&(j.ctz=k=k.replace(" ","_")),a.extend({},b,{url:b.url.replace(/\/basic$/,"/full")+"?alt=json-in-script&callback=?",dataType:"jsonp",data:j,startParam:!1,endParam:!1,success:function(b){var c=[];b.feed.entry&&a.each(b.feed.entry,function(b,f){var l,g=f.gd$when[0].startTime,h=d(g,!0),i=d(f.gd$when[0].endTime,!0),j=-1==g.indexOf("T");a.each(f.link,function(a,b){"text/html"==b.type&&(l=b.href,k&&(l+=(-1==l.indexOf("?")?"?":"&")+"ctz="+k))}),j&&e(i,-1),c.push({id:f.gCal$uid.value,title:f.title.$t,url:l,start:h,end:i,allDay:j,location:f.gd$where[0].valueString,description:f.content.$t})});var g=[c].concat(Array.prototype.slice.call(arguments,1)),h=f(i,this,g);return a.isArray(h)?h:c}})}var b=a.fullCalendar,c=b.formatDate,d=b.parseISO8601,e=b.addDays,f=b.applyAll;b.sourceNormalizers.push(function(a){("gcal"==a.dataType||void 0===a.dataType&&(a.url||"").match(/^(http|https):\/\/www.google.com\/calendar\/feeds\//))&&(a.dataType="gcal",void 0===a.editable&&(a.editable=!1))}),b.sourceFetchers.push(function(a,b,c){return"gcal"==a.dataType?g(a,b,c):void 0}),b.gcalFeed=function(b,c){return a.extend({},c,{url:b,dataType:"gcal"})}}(jQuery);